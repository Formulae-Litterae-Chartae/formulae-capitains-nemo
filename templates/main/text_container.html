{% extends "main::container.html" %}

{% block article %}

<link rel="stylesheet"  href="{{url_for('InstanceNemo.static', filename='css/text_container.css')}}">

{% if objects %}
    {% set prev_texts = objects|join('+', attribute='objectId') %}
    {% set prev_reffs = objects|join('+', attribute='subreference') %}
{% else %}
    {% set prev_texts = objectId %}
    {% set prev_reffs = subreference %}
{% endif %}
<!-- THE LEFT COLUMN -->
<div id="sidebar_l" class="col-2 d-none d-lg-block">
    <div class="d-flex flex-column" id="left-sticky-col">
    {% if session['previous_search'] %}
        {% include "main::prev_search.html" %}
    {% endif %}
        {% with objs = objects|slice(2)|first, note_class = 'noteCardLeft' %}
        {% include "main::notes.html" %}
        {% endwith %}
    </div>
</div>

<!-- button to collapse the left sidebar-->
<button type="button" id="sidebarCollapse_l" class="btn btn-link btn-lg px-0" title="{{ _('Linke Spalte zuklappen.') }}">«</button>

{% include "main::no_copy_modal.html" %}

<div class="col-sm hfeed right-columns" id="reading-container">
<!-- THE TEXTS -->
{% block texts %}
{% endblock %}
</div>
<!-- button to collapse the right sidebar-->
<button type="button" class="btn btn-link btn-lg px-0" id="sidebarCollapse_r" title="{{ _('Rechte Spalte zuklappen.') }}">»</button>

<!-- THE RIGHT COLUMN -->
<div id="sidebar_r" class="col-2 d-none d-lg-block">
    <div class="d-flex flex-column" id="right-sticky-col">
        {% include "main::lexicon.html" %}
        {% if objects|length > 1 %}
        {% with objs = objects|slice(2)|list|last, note_class = 'noteCardRight' %}
        {% include "main::notes.html" %}
        {% endwith %}
        {% endif %}
    </div>
</div>

{% endblock %}

{% block metadata %}
{% endblock %}

{% block footer %}
<script type="text/javascript" src="{{url_for('InstanceNemo.static', filename='js/text_container.js')}}"></script>
{% endblock %}
