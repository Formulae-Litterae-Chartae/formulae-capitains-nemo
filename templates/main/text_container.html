{% extends "main::container.html" %}

{% block article %}

<link rel="stylesheet"  href="{{url_for('InstanceNemo.static', filename='css/text_container.css')}}">

{% if objects %}
    {% set prev_texts = objects|join('+', attribute='objectId') %}
    {% set prev_reffs = objects|join('+', attribute='subreference') %}
{% else %}
    {% set prev_texts = objectId %}
    {% set prev_reffs = subreference %}
{% endif %}
<!-- THE LEFT COLUMN -->
<div id="sidebar_l" class="col-3 col-md-2 d-none d-lg-block reading-sidebar">
    <div class="d-flex flex-column" id="left-sticky-col">
        {% if session['previous_search'] %}
            {% include "main::prev_search.html" %}
        {% endif %}
        {% with objs = objects|slice(2)|first, note_class = 'noteCardLeft' %}
            {% include "main::notes.html" %}
        {% endwith %}
    </div>
</div>

<div class="col hfeed right-columns" id="reading-container">
<!-- THE TEXTS -->
{% block texts %}
{% endblock %}
</div>

{% include "main::no_copy_modal.html" %}

<!-- THE RIGHT COLUMN -->
<div id="sidebar_r" class="col-3 col-md-2 d-none d-lg-block reading-sidebar">
    <div class="d-flex flex-column" id="right-sticky-col">
        {% include "main::lexicon.html" %}
        {% if objects|length > 1 %}
        {% with objs = objects|slice(2)|list|last, note_class = 'noteCardRight' %}
        {% include "main::notes.html" %}
        {% endwith %}
        {% endif %}
    </div>
</div>

{% endblock %}

{% block title %}Formulae - Litterae - Chartae: {{ _('Leseumgebung') }}{% endblock %}

{% block additionalscript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/split.js/1.5.11/split.min.js"></script>
<script>
var gutterBackgroundImage="url('{{ url_for('InstanceNemo.static', filename='images/vertical_handle.png') }}')";
var hideAllPartsMessage="{{ _('Alle ausblenden') }}";
var showAllPartsMessage="{{ _('Alle zeigen') }}";
</script>
<script type="text/javascript" src="{{url_for('InstanceNemo.static', filename='js/text_container.js')}}"></script>
<script>
     var expMess="{{ _('Mehr zeigen') }}";
     var conMess="{{ _('Weniger zeigen') }}";
     var appHeading="{{ _('Apparatus') }}";
     var comHeading="{{ _('Kommentar') }}";
     var appCloseButton="{{ _('Alle Apparatusanmerkungen für diesen Text ausblenden') }}";
     var appOpenButton="{{ _('Alle Apparatusanmerkungen für diesen Text einblenden') }}";
     var comCloseButton="{{ _('Alle Kommentaranmerkungen für diesen Text ausblenden') }}";
     var comOpenButton="{{ _('Alle Kommentaranmerkungen für diesen Text einblenden') }}";
     var toScrollingTexts="{{ _('Texte unabhängig von einander scrollen.') }}";
     var scrollIndependentSrc="{{url_for('InstanceNemo.static', filename='images/scroll_independently.png')}}"
     var fromScrollingTexts="{{ _('Texte zusammen scrollen.') }}";
     var scrollTogetherSrc="{{url_for('InstanceNemo.static', filename='images/scroll_together.png')}}";
     var lexElementTitle=["{{ _('Eintrag zu ') }}", "{{ _(' im Elexikon lesen') }}"];
</script>
<script src="{{url_for('InstanceNemo.static', filename='js/multipassage.js')}}"></script>
<script type='text/javascript' src="{{url_for('InstanceNemo.static', filename='js/mirador.min.js')}}"></script>
{% endblock %}
