{% extends "main::container_mv.html" %}

{% macro make_dates(values) %}




{% if values['dating'] not in ['None', ''] %}
<p class="mb-0 temp-place">{{ _('Datum') }}: {{ values['dating'] }}{% if values['ausstellungsort'] not in ['None', ''] %}<br>{{ _('Ausstellungsort') }}: {{ values['ausstellungsort'] }}{% endif %}</p>
{% endif %}

{% endmacro %}

{% block article %}
{% if not prev_texts %}
{% set prev_texts = '' %}
{% set prev_reffs = '' %}
{% set coll_route = 'InstanceNemo.r_collection_multi' %}
{% else %}
{% set coll_route = 'InstanceNemo.r_add_text_collection' %}
{% endif %}

<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.0.min.js"></script>


<style>

    .row_mv {
        width: 100%;
        overflow: scroll;
    }.row{
        padding-left: 50px;
        padding-right: 50px;
        display: flex;
    }.scrollContent{
    }.title{
        position: sticky;
        top: 0;
        background-color: #263d3d;
        color: #ffffff;
        text-align: center
    }.line{
	    border-bottom: 1px solid black;
	    padding-top: 10px;
    }.list-group-item.flex-column{
        {% if collections.readable|length != 0 %}
            width: {{100/collections.readable|length}}%;
        {% else %}
            width: 100%;
        {% endif %}
        min-width: 20%;
        height: 10px;
        border-right: 1px solid black;
        border-left: 1px solid black;
        overflow: scroll;
        float: Left;
        scrollbar-width: none; /* to hide The Scrollbar for FireFox

    }::-webkit-scrollbar {
        display: none; /* to hide The Scrollbar for GoogleChrome
    }

</style>


<header>
    <h1>
    {{collections.current.label}}
    </h1>
</header>
</div>
{% if collections.readable %}
<div class="row_mv">

        <ul id="list_of_elements" class="list-group list-group-flush" style="flex-direction: row;">
            {% for number, values in collections.readable|dictsort %}

            <li id="N{{number}}" class="list-group-item flex-column">
                <div class="title">
                    <h5>{% if values['name'] != _('(Titel)') %}{{ _('Nummer') }} {% endif %}{{values['name']}}: </h5>
                </div>
                <div class="scrollContent">
                    {% for urn, lang in values['versions'] %}
                <div class="frame">
                    <div class="d-flex w-100 justify-content-between">

                    <p>{{ _("Lesen: ") }}
                        {% if 'andecavensis' in collections.current.id %}
                        <a class="card-link" href="{{url_for('InstanceNemo.r_multipassage', objectIds=[prev_texts, urn]|join_list_values('+'), subreferences=[prev_reffs, 'all']|join_list_values('+'))}}">
                            {% if 'deu' in urn %}{{ _('Deutsche Ãœbersetzung') }}
                            {% elif 'lat' in urn %}{{ _('Edition') }}
                            {% else %}{{ _('Transkription') }}
                            {% endif %}
                        </a>
                        {% else %}
                        <a class="card-link" href="{{url_for('InstanceNemo.r_multipassage', objectIds=[prev_texts, urn]|join_list_values('+'), subreferences=[prev_reffs, 'all']|join_list_values('+'))}}">
                            {{_('Version') + ' ' + loop.index|string}}
                        </a>
                        {% endif %}
                        </p>
                    </div>
                {% if current_user.project_team or collections.current.open_regesten %}
                {% if values['short_regest'] %}<p class="mb-1">{{ values['short_regest'] }}</p>{% endif %}
                {{ make_dates(values) }}
                {% for p in values['regest'] %}
                <p><small>{{ p }}</small></p>
                {% endfor %}
                {% else %}
                {{ make_dates(values) }}
                {% endif %}
                {% if not loop.last %}
                    <div class="line"></div>
                {% endif %}
                </div>
                {% endfor %}
            </div>
            </li>
            {% endfor %}
        </ul>
{% endif %}
</div>


<script>
    $('.list-group-item.flex-column').css("height", $(document).height()-$('#mainNavbar').height()-$(document).height()/10 + "px");
</script>

{% endblock %}
