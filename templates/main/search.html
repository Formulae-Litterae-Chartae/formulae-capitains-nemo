{% extends "main::container.html" %}

{% block article %}
    <article>
    <header>
    <h1>{{ _('Search Results') }}</h1>
    </header>
    {% for post in posts %}
        <div class="card">
            <a class="card-header py-0 text-center" href="{{ url_for('.r_multipassage', objectIds=post['id'], subreferences='1') }}">
                {{ post['info']['title'] }}
            </a>
            <div class="card-body py-0">
                {% for sent in post['sents'] %}
                <p class="card-text m-0" style="font-size: small">- {{ sent }}</p>
                {% endfor %}
            </div>
        </div>
    {% endfor %}
    {% if last_url %}
    <nav aria-label="Search results pages">
        <ul class="pagination pagination-sm justify-content-center">
            <li class="page-item">
                <a class="page-link" href="{{ first_url or '#' }}">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" href="{{ prev_url or '#' }}">
                    <span aria-hidden="true">&lt;</span>
                </a>
            </li>
            {% for p_url in page_urls %}
            {% set active = "" %}
            {% if loop.index == current_page %}
                {% set active = " active" %}
            {% endif %}
            <li class="page-item{{ active }}">
                <a class="page-link" href="{{ p_url }}">
                    {{ loop.index }}
                </a>
            </li>
            {% endfor %}
            <li class="page-item">
                <a class="page-link" href="{{ next_url or '#' }}">
                    <span aria-hidden="true">&gt;</span>
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" href="{{ last_url or '#' }}">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
    {% endif %}
    </article>
{% endblock %}
