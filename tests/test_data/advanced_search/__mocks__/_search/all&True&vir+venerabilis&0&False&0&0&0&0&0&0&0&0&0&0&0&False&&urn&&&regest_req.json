{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "span_near": {
                  "clauses": [
                    {
                      "span_multi": {
                        "match": {
                          "fuzzy": {
                            "lemmas": {
                              "value": "vir",
                              "fuzziness": "0"
                            }
                          }
                        }
                      }
                    },
                    {
                      "span_multi": {
                        "match": {
                          "fuzzy": {
                            "lemmas": {
                              "value": "venerabilis",
                              "fuzziness": "0"
                            }
                          }
                        }
                      }
                    }
                  ],
                  "slop": "0",
                  "in_order": false
                }
              }
            ],
            "minimum_should_match": 1
          }
        }
      ]
    }
  },
  "sort": [
    "sort_prefix",
    "urn"
  ],
  "from": 0,
  "size": 10,
  "aggs": {
    "range": {
      "date_range": {
        "field": "min_date",
        "format": "yyyy",
        "ranges": [
          {
            "key": "<499",
            "from": "0002",
            "to": "0499"
          },
          {
            "key": "500-599",
            "from": "0500",
            "to": "0599"
          },
          {
            "key": "600-699",
            "from": "0600",
            "to": "0699"
          },
          {
            "key": "700-799",
            "from": "0700",
            "to": "0799"
          },
          {
            "key": "800-899",
            "from": "0800",
            "to": "0899"
          },
          {
            "key": "900-999",
            "from": "0900",
            "to": "0999"
          },
          {
            "key": ">1000",
            "from": "1000"
          }
        ]
      }
    },
    "corpus": {
      "filters": {
        "filters": {
          "Angers": {
            "match": {
              "_type": "andecavensis"
            }
          },
          "Archives d’Anjou": {
            "match": {
              "_type": "anjou_archives"
            }
          },
          "Arnulfinger": {
            "match": {
              "_type": "arnulfinger"
            }
          },
          "Bünden": {
            "match": {
              "_type": "buenden"
            }
          },
          "Echternach": {
            "match": {
              "_type": "echternach"
            }
          },
          "Freising": {
            "match": {
              "_type": "freising"
            }
          },
          "Fulda (Dronke)": {
            "match": {
              "_type": "fulda_dronke"
            }
          },
          "Fulda (Stengel)": {
            "match": {
              "_type": "fulda_stengel"
            }
          },
          "Gorze": {
            "match": {
              "_type": "gorze"
            }
          },
          "Hersfeld": {
            "match": {
              "_type": "hersfeld"
            }
          },
          "Katalonien": {
            "match": {
              "_type": "katalonien"
            }
          },
          "Codice Diplomatico Longobardo": {
            "match": {
              "_type": "langobardisch"
            }
          },
          "Lorsch": {
            "match": {
              "_type": "lorsch"
            }
          },
          "Luzern": {
            "match": {
              "_type": "luzern"
            }
          },
          "Marculf": {
            "match": {
              "_type": "marculf"
            }
          },
          "Accensement d'une vigne de Marmoutier": {
            "match": {
              "_type": "marmoutier_barthelemy"
            }
          },
          "Marmoutier - Dunois": {
            "match": {
              "_type": "marmoutier_dunois"
            }
          },
          "Marmoutier - Fougères": {
            "match": {
              "_type": "marmoutier_fougères"
            }
          },
          "Un acte faux de Marmoutier": {
            "match": {
              "_type": "marmoutier_laurain"
            }
          },
          "Marmoutier - Trois actes faux ou interpolés": {
            "match": {
              "_type": "marmoutier_leveque"
            }
          },
          "Marmoutier - Manceau": {
            "match": {
              "_type": "marmoutier_manceau"
            }
          },
          "Marmoutier - Serfs": {
            "match": {
              "_type": "marmoutier_serfs"
            }
          },
          "Marmoutier - Vendômois": {
            "match": {
              "_type": "marmoutier_vendomois"
            }
          },
          "Marmoutier - Vendômois, Appendix": {
            "match": {
              "_type": "marmoutier_vendomois_appendix"
            }
          },
          "Merowinger": {
            "match": {
              "_type": "merowinger1"
            }
          },
          "Mittelrheinisch": {
            "match": {
              "_type": "mittelrheinisch"
            }
          },
          "Mondsee": {
            "match": {
              "_type": "mondsee"
            }
          },
          "Papsturkunden Frankreich": {
            "match": {
              "_type": "papsturkunden_frankreich"
            }
          },
          "Passau": {
            "match": {
              "_type": "passau"
            }
          },
          "Rätien": {
            "match": {
              "_type": "raetien"
            }
          },
          "Cartulaire de Redon": {
            "match": {
              "_type": "redon"
            }
          },
          "Regensburg": {
            "match": {
              "_type": "regensburg"
            }
          },
          "Rheinisch": {
            "match": {
              "_type": "rheinisch"
            }
          },
          "Salzburg": {
            "match": {
              "_type": "salzburg"
            }
          },
          "Schäftlarn": {
            "match": {
              "_type": "schaeftlarn"
            }
          },
          "St. Gallen": {
            "match": {
              "_type": "stgallen"
            }
          },
          "Une nouvelle charte de Théotolon": {
            "match": {
              "_type": "tours_gasnault"
            }
          },
          "Fragments de Saint-Julien de Tours": {
            "match": {
              "_type": "tours_st_julien_fragments"
            }
          },
          "Weißenburg": {
            "match": {
              "_type": "weissenburg"
            }
          },
          "Werden": {
            "match": {
              "_type": "werden"
            }
          },
          "Zürich": {
            "match": {
              "_type": "zuerich"
            }
          }
        }
      }
    },
    "no_date": {
      "missing": {
        "field": "min_date"
      }
    },
    "all_docs": {
      "global": {},
      "aggs": {
        "range": {
          "date_range": {
            "field": "min_date",
            "format": "yyyy",
            "ranges": [
              {
                "key": "<499",
                "from": "0002",
                "to": "0499"
              },
              {
                "key": "500-599",
                "from": "0500",
                "to": "0599"
              },
              {
                "key": "600-699",
                "from": "0600",
                "to": "0699"
              },
              {
                "key": "700-799",
                "from": "0700",
                "to": "0799"
              },
              {
                "key": "800-899",
                "from": "0800",
                "to": "0899"
              },
              {
                "key": "900-999",
                "from": "0900",
                "to": "0999"
              },
              {
                "key": ">1000",
                "from": "1000"
              }
            ]
          }
        },
        "corpus": {
          "filters": {
            "filters": {
              "Angers": {
                "match": {
                  "_type": "andecavensis"
                }
              },
              "Archives d’Anjou": {
                "match": {
                  "_type": "anjou_archives"
                }
              },
              "Arnulfinger": {
                "match": {
                  "_type": "arnulfinger"
                }
              },
              "Bünden": {
                "match": {
                  "_type": "buenden"
                }
              },
              "Echternach": {
                "match": {
                  "_type": "echternach"
                }
              },
              "Freising": {
                "match": {
                  "_type": "freising"
                }
              },
              "Fulda (Dronke)": {
                "match": {
                  "_type": "fulda_dronke"
                }
              },
              "Fulda (Stengel)": {
                "match": {
                  "_type": "fulda_stengel"
                }
              },
              "Gorze": {
                "match": {
                  "_type": "gorze"
                }
              },
              "Hersfeld": {
                "match": {
                  "_type": "hersfeld"
                }
              },
              "Katalonien": {
                "match": {
                  "_type": "katalonien"
                }
              },
              "Codice Diplomatico Longobardo": {
                "match": {
                  "_type": "langobardisch"
                }
              },
              "Lorsch": {
                "match": {
                  "_type": "lorsch"
                }
              },
              "Luzern": {
                "match": {
                  "_type": "luzern"
                }
              },
              "Marculf": {
                "match": {
                  "_type": "marculf"
                }
              },
              "Accensement d'une vigne de Marmoutier": {
                "match": {
                  "_type": "marmoutier_barthelemy"
                }
              },
              "Marmoutier - Dunois": {
                "match": {
                  "_type": "marmoutier_dunois"
                }
              },
              "Marmoutier - Fougères": {
                "match": {
                  "_type": "marmoutier_fougères"
                }
              },
              "Un acte faux de Marmoutier": {
                "match": {
                  "_type": "marmoutier_laurain"
                }
              },
              "Marmoutier - Trois actes faux ou interpolés": {
                "match": {
                  "_type": "marmoutier_leveque"
                }
              },
              "Marmoutier - Manceau": {
                "match": {
                  "_type": "marmoutier_manceau"
                }
              },
              "Marmoutier - Serfs": {
                "match": {
                  "_type": "marmoutier_serfs"
                }
              },
              "Marmoutier - Vendômois": {
                "match": {
                  "_type": "marmoutier_vendomois"
                }
              },
              "Marmoutier - Vendômois, Appendix": {
                "match": {
                  "_type": "marmoutier_vendomois_appendix"
                }
              },
              "Merowinger": {
                "match": {
                  "_type": "merowinger1"
                }
              },
              "Mittelrheinisch": {
                "match": {
                  "_type": "mittelrheinisch"
                }
              },
              "Mondsee": {
                "match": {
                  "_type": "mondsee"
                }
              },
              "Papsturkunden Frankreich": {
                "match": {
                  "_type": "papsturkunden_frankreich"
                }
              },
              "Passau": {
                "match": {
                  "_type": "passau"
                }
              },
              "Rätien": {
                "match": {
                  "_type": "raetien"
                }
              },
              "Cartulaire de Redon": {
                "match": {
                  "_type": "redon"
                }
              },
              "Regensburg": {
                "match": {
                  "_type": "regensburg"
                }
              },
              "Rheinisch": {
                "match": {
                  "_type": "rheinisch"
                }
              },
              "Salzburg": {
                "match": {
                  "_type": "salzburg"
                }
              },
              "Schäftlarn": {
                "match": {
                  "_type": "schaeftlarn"
                }
              },
              "St. Gallen": {
                "match": {
                  "_type": "stgallen"
                }
              },
              "Une nouvelle charte de Théotolon": {
                "match": {
                  "_type": "tours_gasnault"
                }
              },
              "Fragments de Saint-Julien de Tours": {
                "match": {
                  "_type": "tours_st_julien_fragments"
                }
              },
              "Weißenburg": {
                "match": {
                  "_type": "weissenburg"
                }
              },
              "Werden": {
                "match": {
                  "_type": "werden"
                }
              },
              "Zürich": {
                "match": {
                  "_type": "zuerich"
                }
              }
            }
          }
        },
        "no_date": {
          "missing": {
            "field": "min_date"
          }
        }
      }
    }
  },
  "highlight": {
    "fields": {
      "lemmas": {
        "fragment_size": 1000
      },
      "regest": {
        "fragment_size": 1000
      }
    },
    "pre_tags": [
      "</small><strong>"
    ],
    "post_tags": [
      "</strong><small>"
    ],
    "encoder": "html"
  }
}